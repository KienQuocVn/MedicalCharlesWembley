@{
    ViewData["Title"] = "Sản phẩm";
}
<link rel="stylesheet" href="~/css/about.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/product.css" asp-append-version="true" />

<!-- Banner -->
<div class="about-banner">
    <img src="/userfile/config/Banner-Page-PC.jpg" alt="Banner">
</div>

<!-- Breadcrumb -->
<nav class="about-breadcrumb" aria-label="breadcrumb">
    <div class="container">
        <ol class="breadcrumb mb-0 py-2 px-0">
            <li class="breadcrumb-item"><a href="/">Trang chủ</a></li>
            <li class="breadcrumb-item active" aria-current="page">Sản phẩm</a></li>
        </ol>
    </div>
</nav>

<!-- Main Content -->
<div class="about-main-content py-5">
    <div class="container">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-3 mb-4">
                <div class="product-sidebar mb-4">
                    <div class="sidebar-title">DANH MỤC SẢN PHẨM</div>
                    <ul class="sidebar-list">
                        <li><a href="#">GIẢI PHÁP PHÒNG MỔ/ICU</a></li>
                        <li><a href="#">SẢN & NHI KHOA</a></li>
                        <li><a href="#">TIM MẠCH</a></li>
                        <li><a href="#">Nhãn khoa</a></li>
                        <li><a href="#">TAI - MŨI - HỌNG</a></li>
                        <li><a href="#">NIỆU KHOA – NAM KHOA</a></li>
                        <li><a href="#">VẬT TƯ TIÊU HAO</a></li>
                        <li><a href="#">TỔNG QUÁT</a></li>
                    </ul>
                </div>
                <div class="product-sidebar">
                    <div class="sidebar-title">HÃNG SẢN XUẤT</div>
                    <ul class="sidebar-list">
                        <li><a href="#">MASIMO</a></li>
                        <li><a href="#">JOHNSON & JOHNSON</a></li>
                        <li><a href="#">KATENA</a></li>
                        <li><a href="#">ATMOS</a></li>
                        <li><a href="#">RIMSA</a></li>
                        <li><a href="#">SCOTTCARE</a></li>
                        <li><a href="#">MÉDIPRÉMA</a></li>
                        <li><a href="#">NEITZ</a></li>
                        <li><a href="#">AXCENT</a></li>
                        <li><a href="#">OES MEDICAL</a></li>
                        <li><a href="#">CARILEX</a></li>
                        <li><a href="#">INAMI</a></li>
                        <li><a href="#">POLYMEM</a></li>
                        <li><a href="#">GUBBEMED</a></li>
                        <li><a href="#">IMO</a></li>
                        <li class="sidebar-more"><a href="#">Xem Thêm</a></li>
                    </ul>
                </div>
            </div>
            <!-- Product Grid -->
            <div class="col-lg-9">
                <h2 class="product-title mb-4">SẢN PHẨM</h2>
                <div class="row row-cols-2 row-cols-md-4 row-cols-lg-4 g-4">
                    @foreach (var product in ViewBag.Products)
                    {
                        <div class="col">
                            <a href="@Url.Action("Index", "ProductDetail", new { id = product.ProductID })" class="product-card">
                                <img src="/UserFile/Products/@product.ImageLink" alt="@product.Name" class="product-img">
                            </a>
                            <div class="product-name">@product.Name</div>
                        </div>
                        
                    }
                </div>
                <!-- Pagination -->
                <nav class="mt-5 d-flex justify-content-center">
                    <ul class="pagination">
                        <!-- Nút Previous -->
                        <li class="page-item @(ViewBag.CurrentPage == 1 ? "disabled" : "")">
                            <a class="page-link" href="@Url.Action("Index", "Product", new { page = ViewBag.CurrentPage - 1, searchTerm = ViewBag.SearchTerm })">Previous</a>
                        </li>

                        <!-- Các số trang -->
                        @{
                            var startPage = Math.Max(1, ViewBag.CurrentPage - 2);
                            var endPage = Math.Min(ViewBag.TotalPages, ViewBag.CurrentPage + 2);
                            for (int i = startPage; i <= endPage; i++)
                            {
                                <li class="page-item @(ViewBag.CurrentPage == i ? "active" : "")">
                                    <a class="page-link" href="@Url.Action("Index", "Product", new { page = i, searchTerm = ViewBag.SearchTerm })">@i</a>
                                </li>
                            }
                        }

                        <!-- Nút Next -->
                        <li class="page-item @(ViewBag.CurrentPage == ViewBag.TotalPages ? "disabled" : "")">
                            <a class="page-link" href="@Url.Action("Index", "Product", new { page = ViewBag.CurrentPage + 1, searchTerm = ViewBag.SearchTerm })">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>